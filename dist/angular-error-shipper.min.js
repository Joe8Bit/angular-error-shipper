"use strict";angular.module("ngErrorShipper",[]).factory("stacktraceService",function(){return{print:printStackTrace||{}}}).provider("$exceptionHandler",{$get:["errorLogService",function(a){return a}]}).factory("errorLogService",["$log","$window","$timeout","stacktraceService","errorShipper",function(a,b,c,d,e){function f(f,g){a.error.apply(a,arguments);var h={};h.exception=f.toString(),h.location=angular.toJson(b.location),h.cause=g||null,h.performance=angular.toJson(window.performance)||null,h.stacktrace=d.print({e:f})||null,e.shippers.length&&e.shippers.forEach(function(a){c(function(){"function"==typeof a&&a(h)},0)})}return f}]).service("errorShipper",["$http",function(a){function b(a){d.push(a)}function c(b){if(finalOptions=angular.extend(e,b),!finalOptions.url)throw new Error("You must specify a URL when using default errorShipper");d.unshift(function(b){return finalOptions.data=angular.extend(b,finalOptions.data),a(finalOptions).success(finalOptions.onSuccess||{}).error(finalOptions.onError||{})})}var d=[],e={method:"POST"};return{use:b,configure:c,shippers:d}}]);